function showHideMenu() {
  var body = $("body");
  $("#menu.show").length
    ? body.addClass("body-menu-opened")
    : body.removeClass("body-menu-opened");
}
function insertCountSliderPartners() {
  var activeSlider = $(".tab-pane.active .partners__cards"),
    sliderPartnersCount = $(".partners__count"),
    currentSlide = activeSlider.slick("slickCurrentSlide") + 2,
    allCountSlide = activeSlider.slick("getSlick").slideCount;
  $("#partnersCurrentSlide").text(
    (currentSlide > allCountSlide ? allCountSlide : currentSlide) + " "
  ),
    $("#partnersAllSlide").text(" " + allCountSlide),
    activeSlider.find(".slick-prev").length
      ? sliderPartnersCount.show()
      : sliderPartnersCount.hide();
}
function initSliderPartners() {
  var activeSlider = $(".tab-pane.active .partners__cards");
  $(".tab-pane.active .slick-list").length
    ? (insertCountSliderPartners(), activeSlider.slick("refresh"))
    : (activeSlider.slick({
        infinite: !1,
        slidesToShow: 2,
        slidesToScroll: 2,
        arrows: !0,
        responsive: [{ breakpoint: 767, settings: { slidesToShow: 1 } }],
      }),
      insertCountSliderPartners(),
      activeSlider.on("afterChange", function () {
        insertCountSliderPartners();
      }));
}
$("#open-menu, #menu-hide").click(function () {
  $("#menu").toggleClass("show"), showHideMenu();
}),
  $(document).mouseup(function (e) {
    var menu = $("#menu");
    menu.is(e.target) ||
      0 !== menu.has(e.target).length ||
      (menu.removeClass("show"), showHideMenu());
  }),
  $(document).on("click", ".menu-link-project .menu__tab", function (e) {
    $(".menu__center:visible").length ||
      (e.preventDefault(), $("#menu").toggleClass("menu--projects"));
  }),
  $(window).on("scroll", function () {
    $(window).scrollTop() > 0
      ? $(".header").addClass("header--fixed")
      : $(".header").removeClass("header--fixed");
  }),
  $(".realty-item__slider-for").length &&
    ($(".realty-item__slider-for").slick({
      slidesToShow: 1,
      slidesToScroll: 1,
      arrows: !1,
      fade: !0,
      asNavFor: ".realty-item__slider-nav",
    }),
    $(".realty-item__slider-nav").slick({
      slidesToShow: 4,
      slidesToScroll: 1,
      asNavFor: ".realty-item__slider-for",
      arrows: !1,
      dots: !1,
      focusOnSelect: !0,
    })),
  $(".company__slider-for").length &&
    ($(".company__slider-for").slick({
      slidesToShow: 1,
      slidesToScroll: 1,
      arrows: !1,
      fade: !0,
      asNavFor: ".company__slider-nav",
    }),
    $(".company__slider-nav").slick({
      slidesToShow: 11,
      slidesToScroll: 1,
      asNavFor: ".company__slider-for",
      arrows: !0,
      dots: !1,
      infinite: !1,
      focusOnSelect: !0,
      responsive: [
        { breakpoint: 1199, settings: { slidesToShow: 9 } },
        { breakpoint: 991, settings: { slidesToShow: 7 } },
        { breakpoint: 767, settings: { slidesToShow: 5 } },
        { breakpoint: 575, settings: { slidesToShow: 3 } },
      ],
    })),
  $(".last-news__cards").length &&
    $(".last-news__cards").slick({
      infinite: !1,
      slidesToShow: 3,
      slidesToScroll: 1,
      arrows: !0,
      responsive: [{ breakpoint: 767, settings: { slidesToShow: 1 } }],
    }),
  $(".partners__cards").length &&
    (initSliderPartners(),
    $(document).on(
      "shown.bs.tab",
      ".partners__tabs .nav-tabs__tab",
      function () {
        initSliderPartners();
      }
    )),
  $(document).on(
    "click",
    ".parking-place__item:not(.parking-place__item--title)",
    function () {
      var parkingLength = $(this).attr("data-length") + " м.",
        parkingWidth = $(this).attr("data-width") + " м.",
        parkingPrice = $(this).attr("data-price") + " Р.";
      $(".parking-place__item").removeClass("parking-place__item--tooltip"),
        $(this).addClass("parking-place__item--tooltip"),
        $(this).append($("#parking-tooltip")),
        $("#tooltip-length").text(parkingLength),
        $("#tooltip-width").text(parkingWidth),
        $("#tooltip-price").text(parkingPrice);
    }
  ),
  $(document).on("click", function (e) {
    var tooltip = $(".parking-place__item");
    tooltip.is(e.target) ||
      0 !== tooltip.has(e.target).length ||
      tooltip.removeClass("parking-place__item--tooltip");
  }),
  $(document).on("click", ".parking-place__item--title", function (e) {
    $(".parking-place__row--active").removeClass("parking-place__row--active"),
      $(this)
        .closest(".parking-place__row")
        .addClass("parking-place__row--active");
  });
let wrapper = document.querySelector(".wrapper");
if (wrapper) {
  var configPageSlider = {
      wrapperClass: "page__wrapper",
      slideClass: "page__screen",
      direction: "vertical",
      slidesPerView: "auto",
      parallax: !0,
      keyboard: { enabled: !0, onlyInViewport: !0, pageUpDown: !0 },
      simulateTouch: !1,
      mousewheel: { sensitivity: 1 },
      watchOverflow: !0,
      speed: 800,
      observer: !0,
      observeParents: !0,
      observeSlideChildren: !0,
      pagination: {
        el: ".page__pagination",
        type: "bullets",
        clickable: !0,
        bulletClass: "page__bullet",
        bulletActiveClass: "page__bullet_active",
      },
      scrollbar: {
        el: ".page__scroll",
        dragClass: "page__drag-scroll",
        draggable: !0,
      },
      init: !1,
      on: {
        init: function () {
          wrapper.classList.add("_loaded");
        },
      },
    },
    pageSlider = !1;
  function initOrDestroyPageSlider() {
    window.innerWidth < 767 || window.innerHeight < 767
      ? ($("body").addClass("body-free"),
        wrapper.classList.add("_free"),
        pageSlider && (pageSlider.destroy(), (pageSlider = !1)))
      : ($("body").removeClass("body-free"),
        wrapper.classList.remove("_free"),
        pageSlider ||
          (pageSlider = new Swiper(".page", configPageSlider)).init());
  }
  initOrDestroyPageSlider(),
    window.addEventListener("resize", function (e) {
      initOrDestroyPageSlider();
    });
}
$("input[name=phone]").length &&
  $(function () {
    $("input[name=phone]").mask("+7 (999) 999-99-99");
  }),
  $(function () {
    var location = window.location.href,
      cur_url = location.split("/").pop();
    console.log(location),
      console.log(cur_url),
      $(".menu li").each(function () {
        var link = $(this).find("a").attr("href");
        cur_url == link && $(this).addClass("menu__tab--active");
      });
  }),
  $(document).ready(function () {
    $("body").addClass("loaded");
  });
//   $(window).resize(function(){
//     if($(window).width() < 767){
//     $(".footer__create").hide()
//     }
//     else if($(window).width() > 767 && $(window).width() < 1250){
//       $(".footer__create").html('').show()
//     }
//     else if($(window).width() > 1250){
//       $(".footer__create").html("Создавайте сайты у нас").show()
//     }
//   }).resize()
